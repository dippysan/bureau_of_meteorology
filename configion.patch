From 34e8cb6fddeb6a0a5385be13db6de2f7c54b5b72 Mon Sep 17 00:00:00 2001
From: Harley Mellifont <harley@glue.io>
Date: Fri, 12 Jul 2024 17:17:49 +1000
Subject: [PATCH] Remove condition mapping, add is_night

---
 custom_components/bureau_of_meteorology/weather.py | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/custom_components/bureau_of_meteorology/weather.py b/custom_components/bureau_of_meteorology/weather.py
index a5cf254..a15254d 100644
--- a/custom_components/bureau_of_meteorology/weather.py
+++ b/custom_components/bureau_of_meteorology/weather.py
@@ -81,7 +81,7 @@ async def async_forecast_daily(self) -> list[Forecast]:
             Forecast(
                 datetime=iso8601.parse_date(data["date"]).astimezone(tzinfo).isoformat(),
                 native_temperature=data["temp_max"],
-                condition=MAP_CONDITION[data["icon_descriptor"]],
+                condition=data["icon_descriptor"],
                 templow=data["temp_min"],
                 native_precipitation=data["rain_amount_max"],
                 precipitation_probability=data["rain_chance"],
@@ -95,7 +95,8 @@ async def async_forecast_hourly(self) -> list[Forecast]:
             Forecast(
                 datetime=iso8601.parse_date(data["time"]).astimezone(tzinfo).isoformat(),
                 native_temperature=data["temp"],
-                condition=MAP_CONDITION[data["icon_descriptor"]],
+                condition=data["icon_descriptor"],
+                is_night=data["is_night"],
                 native_precipitation=data["rain_amount_max"],
                 precipitation_probability=data["rain_chance"],
                 wind_bearing=data["wind_direction"],
